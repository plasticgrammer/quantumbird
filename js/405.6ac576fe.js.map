{"version":3,"file":"js/405.6ac576fe.js","mappings":"ueAiGA,MAAMA,EAAOC,EAEPC,GAASC,EAAAA,EAAAA,MAAI,GACbC,GAAcD,EAAAA,EAAAA,KAAI,GAClBE,GAAaF,EAAAA,EAAAA,MAAI,GACjBG,GAAcH,EAAAA,EAAAA,KAAI,GAClBI,GAAqBJ,EAAAA,EAAAA,KAAI,GAEzBK,EAAY,CAChB,2BACA,qBACA,eACA,oBACA,gBACA,0BACA,wBACA,2BACA,yBACA,yBAGIC,GAAUC,EAAAA,EAAAA,UAASC,MAAMH,EAAUI,QAAQC,KAAK,IAEhDC,EAAcA,KAClBZ,EAAOa,OAAQ,CAAK,EAGhBC,EAAaA,KACjBZ,EAAYW,MAAQ,CAAC,EAGjBE,EAAoBA,KACxB,MAAMC,EAAaT,EAAQU,QAAO,CAACC,EAAKC,IAAYD,EAAMC,GAAS,GAC7DC,EAAeJ,EAAaV,EAAUI,OAC5CN,EAAYS,MAAQO,EAAaC,QAAQ,GACzCvB,EAAK,uBAAwBM,EAAYS,OACzCV,EAAWU,OAAQ,CAAI,EAGnBS,EAAiBA,KACrB,MAAMC,EAAsBrB,EAAYW,MACxCR,EAAmBQ,MAASU,EAAsBjB,EAAUI,OAAU,GAAG,EAGrEc,EAAsBC,IACtBA,IAAUnB,EAAUI,OAAS,GAE/BL,EAAmBQ,MAAQ,IAC3BE,KAGAb,EAAYW,OACd,EAGIa,EAAaA,KACjBxB,EAAYW,MAAQ,EACpBN,EAAQI,KAAK,GACbR,EAAWU,OAAQ,EACnBb,EAAOa,OAAQ,EACfS,GAAgB,EAGZK,EAA4BA,IAC5BvB,EAAYS,OAAS,EAAU,8BAC/BT,EAAYS,OAAS,EAAU,sCAC/BT,EAAYS,OAAS,EAAU,oCAC/BT,EAAYS,OAAS,EAAU,+CAC5B,+C,OAITe,EAAAA,EAAAA,OAAM1B,EAAaoB,GAEnBO,EAAa,CAAEH,e,knHCrKf,MAAMI,GAA2B,OAAgB,EAAQ,CAAC,CAAC,YAAY,qBAEvE,O","sources":["webpack://weekly-report/./src/components/StressCheckDialog.vue","webpack://weekly-report/./src/components/StressCheckDialog.vue?26fb"],"sourcesContent":["<template>\n  <v-dialog v-model=\"dialog\" max-width=\"600px\">\n    <v-card color=\"blue-lighten-5\" min-height=\"430px\" rounded=\"lg\">\n      <v-card-text class=\"pt-0\">\n        <v-img\n          src=\"@/assets/images/advisor_mental.png\"\n          max-width=\"200\"\n          class=\"mx-auto my-0\"\n          :aspect-ratio=\"1\"\n        ></v-img>\n\n        <div v-if=\"currentStep == 0\">\n          <!-- 初期説明画面 -->\n          <v-card flat class=\"bg-plain\">\n            <v-card-title class=\"text-h5 text-center\">ストレスチェックへようこそ</v-card-title>\n            <v-card-text>\n              <p>このチェックは、あなたの現在のストレスレベルを評価するためのものです。</p>\n              <p>システムに回答を保持することはありません。</p>\n              <p>１０の質問に対して [いいえ] から [はい] の５段階で評価してください。</p>\n              <p>準備ができたら「開始」ボタンをクリックしてください。</p>\n            </v-card-text>\n          </v-card>\n          <v-btn color=\"secondary\" block class=\"mt-6\" @click=\"startCheck\">\n            開始\n          </v-btn>\n        </div>\n\n        <div v-if=\"currentStep > 0 && !showResult\">\n          <div class=\"d-flex align-center mb-5\">\n            <v-progress-linear\n              :model-value=\"progressPercentage\"\n              color=\"deep-purple-accent-2\"\n              striped\n              rounded\n              height=\"26\"\n              class=\"flex-grow-1 mr-2 progress-bar\"\n            >\n              <template #default>\n                <strong>{{ currentStep }} / {{ questions.length }}</strong>\n              </template>\n            </v-progress-linear>\n          </div>\n          <v-window \n            v-model=\"currentStep\" \n            show-arrows\n          >\n            <template #next>\n            </template>\n            <v-window-item\n              v-for=\"(question, index) in questions\"\n              :key=\"index\"\n              :value=\"index + 1\"\n            >\n              <v-card\n                max-width=\"500px\"\n                class=\"mx-auto my-1 px-6 bg-plain\"\n              >\n                <v-card-title class=\"text-body-1 text-center\">Q{{ index + 1 }}. {{ question }}</v-card-title>\n                <v-card-text class=\"text-center pb-0\">\n                  <v-rating \n                    v-model=\"answers[index]\" \n                    :item-labels=\"['いいえ','','','','はい']\"\n                    size=\"x-large\"\n                    active-color=\"deep-purple-accent-2\"\n                    color=\"grey-lighten-2\"\n                    empty-icon=\"mdi-emoticon-neutral-outline\"\n                    full-icon=\"mdi-emoticon-dead\"\n                    length=\"5\" \n                    hover\n                    @update:model-value=\"handleRatingUpdate(index)\"\n                  ></v-rating>\n                </v-card-text>\n              </v-card>\n            </v-window-item>\n          </v-window>\n        </div>\n\n        <div v-if=\"showResult\">\n          <v-card flat>\n            <v-card-title class=\"text-h5\">チェック結果</v-card-title>\n            <v-card-text>\n              <p class=\"text-deep-purple-accent-4\">あなたのストレスレベル:<span class=\"text-h4 ml-2\"> {{ stressLevel }}</span> / 5.0</p>\n              <p>{{ getStressLevelDescription() }}</p>\n            </v-card-text>\n          </v-card>\n          <v-btn color=\"secondary\" block class=\"mt-6\" @click=\"closeDialog\">\n            閉じる\n          </v-btn>\n        </div>\n      </v-card-text>\n    </v-card>\n  </v-dialog>\n</template>\n\n<script setup>\nimport { ref, reactive, watch } from 'vue'\n\nconst emit = defineEmits(['stress-level-updated'])\n\nconst dialog = ref(false)\nconst currentStep = ref(0)\nconst showResult = ref(false)\nconst stressLevel = ref(0)\nconst progressPercentage = ref(0)\n\nconst questions = [\n  '最近、仕事や生活でイライラすることが多いですか？',\n  '睡眠の質が低下していると感じますか？',\n  '食欲に変化がありますか？',\n  '集中力が低下していると感じますか？',\n  '身体的な疲労を感じますか？',\n  '仕事や責任に対して圧倒されていると感じますか？',\n  '家族や友人との関係に悪影響が出ていますか？',\n  '頭痛や筋肉の張りなど、身体的な症状がありますか？',\n  '将来に対して不安を感じることが増えましたか？',\n  '趣味や楽しみのための時間が減っていますか？'\n]\n\nconst answers = reactive(Array(questions.length).fill(0))\n\nconst closeDialog = () => {\n  dialog.value = false\n}\n\nconst startCheck = () => {\n  currentStep.value = 1\n}\n\nconst submitStressCheck = () => {\n  const totalScore = answers.reduce((sum, current) => sum + current, 0)\n  const averageScore = totalScore / questions.length\n  stressLevel.value = averageScore.toFixed(1)\n  emit('stress-level-updated', stressLevel.value)\n  showResult.value = true\n}\n\nconst updateProgress = () => {\n  const currentProgressStep = currentStep.value\n  progressPercentage.value = (currentProgressStep / questions.length) * 100\n}\n\nconst handleRatingUpdate = (index) => {\n  if (index === questions.length - 1) {\n    // 最後の質問の場合、100%にして完了\n    progressPercentage.value = 100\n    submitStressCheck()\n  } else {\n    // 次の質問に進む\n    currentStep.value++\n  }\n}\n\nconst openDialog = () => {\n  currentStep.value = 0\n  answers.fill(0)\n  showResult.value = false\n  dialog.value = true\n  updateProgress()\n}\n\nconst getStressLevelDescription = () => {\n  if (stressLevel.value <= 1) return 'ストレスレベルは低めです。現在の状態を維持しましょう。'\n  if (stressLevel.value <= 2) return 'ストレスレベルは平均的です。定期的にリラックスする時間を設けましょう。'\n  if (stressLevel.value <= 3) return 'ストレスレベルがやや高めです。ストレス解消法を見直してみましょう。'\n  if (stressLevel.value <= 4) return 'ストレスレベルが高めです。休息を取り、必要であれば専門家に相談することを検討しましょう。'\n  return 'ストレスレベルがかなり高いです。早急に休息を取り、専門家に相談することをおすすめします。'\n}\n\n// currentStepが変更されるたびにプログレスを更新\nwatch(currentStep, updateProgress)\n\ndefineExpose({ openDialog })\n</script>\n\n<style scoped>\n.progress-bar {\n  transition: all 0.5s ease-out;\n}\n</style>","import script from \"./StressCheckDialog.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./StressCheckDialog.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./StressCheckDialog.vue?vue&type=style&index=0&id=3cf45516&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-3cf45516\"]])\n\nexport default __exports__"],"names":["emit","__emit","dialog","ref","currentStep","showResult","stressLevel","progressPercentage","questions","answers","reactive","Array","length","fill","closeDialog","value","startCheck","submitStressCheck","totalScore","reduce","sum","current","averageScore","toFixed","updateProgress","currentProgressStep","handleRatingUpdate","index","openDialog","getStressLevelDescription","watch","__expose","__exports__"],"sourceRoot":""}